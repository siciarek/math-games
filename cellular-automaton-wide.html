<!DOCTYPE html>
<html>
<head>

    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <title></title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>

    <link href="css/board.css" rel="stylesheet"/>


    <style>
        body {
            margin-top: 48px;
            background-color: gray;
        }

        #board {
            border: none !important;
        }

        #board span {
            width: 2px !important;
            height: 2px !important;
        }

        #board + div.info {
            color: ghostwhite !important;
        }
    </style>

</head>
<body>

<div id="board"></div>
<div class="info"></div>

<script src="js/jquery.min.js"></script>
<script src="js/board.js"></script>
<script src="js/cellular-automaton.js"></script>
<script>
    var speed = 150;
    var app = null;
    var board = null;
    var rule = location.href.replace(/^.*?(\d+).*?$/, '$1');
    rule = isNaN(rule) ? 110 : parseInt(rule);
    var density = location.href.replace(/.*?,(0\.\d+).*?$/, '$1');
    density = isNaN(density) ? 0 : parseFloat(density);

    $(document).ready(function () {
        board = new Board(255, 511);

        app = new CellularAutomaton(board, rule);
        app.density = density;
        app.steps = board.cols - 1;

        app.getInfo = function () {
            return 'rule ' + this.rule + ' (gen. ' + this.r + ') density: ' + this.density;
        };

        app.init();

        run(app, speed);
    });
</script>
</body>
</html>