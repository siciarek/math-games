<!DOCTYPE html>
<html>
<head>

    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <title></title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>

    <link href="css/board.css" rel="stylesheet"/>
    <link href="css/maze.css" rel="stylesheet"/>

</head>
<body>

<h1></h1>

<div id="board"></div>
<div class="info"></div>

<script src="js/jquery.min.js"></script>
<script src="js/board.js"></script>
<script src="js/game-of-life-patterns.js"></script>
<script src="js/game-of-life.js"></script>
<script>
    var speed = 150;
    var app = null;
    var board = null;
    var index = location.href.replace(/^.*?(\d+).*?$/, '$1');
    index = isNaN(index) ? 0 : parseInt(index);

    $(document).ready(function () {
        board = new Board();

        var names = {
            'B3/S1234': 'Maze',
            'B37/S1234': 'Maze full of mice',
            'B3/S12345': 'Mazectric'
        };

        var rulestrings = [];

        for(var name in names) {
            rulestrings.push(name);
        }

        app = new GameOfLife(board, rulestrings[index]);
        app.pause = false;
        app.name = names[app.rulestring] + ' (' + app.rulestring + ')';

        app.fetchPattern = function () {
            this.pattern = 107;
            var pat = this.definitions[this.patterns[this.pattern]];
            pat.name = 'base: ' + pat.name;
            pat.type = 'p200';
            pat.description = '';
            return pat;
        };

        app.init();

        run(app, speed);
    });
</script>
</body>
</html>